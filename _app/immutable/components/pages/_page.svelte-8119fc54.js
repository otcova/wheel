import{S as M,i as b,s as w,I as d,J as c,m as p,h as m,n as l,b as v,B as k,K as y,o as I,q as P,r as q,G as E,u as A,w as S,x as B,y as C,f as F,t as G,z as H}from"../../chunks/index-7014dcd9.js";function $(n,t,i){const e=n.slice();e[5]=t[i].size,e[6]=t[i].lable,e[11]=i;const s=u/2;e[7]=s;const o=e[0].reduce((f,_)=>f+_.size,0);e[8]=o;const a=e[0].slice(0,e[11]).reduce((f,_)=>f+_.size,0)/e[8];return e[9]=a,e}function z(n){let t,i,e,s,o,a=n[6]+"",f,_,g;return{c(){t=d("circle"),o=d("text"),f=P(a),this.h()},l(r){t=c(r,"circle",{fill:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,transform:!0,cx:!0,cy:!0,r:!0}),p(t).forEach(m),o=c(r,"text",{x:!0,y:!0,"font-size":!0,"text-anchor":!0,"dominant-baseline":!0,transform:!0,"font-family":!0});var h=p(o);f=q(h,a),h.forEach(m),this.h()},h(){l(t,"fill","none"),l(t,"stroke",i="#"+n[2][n[11]==n[0].length-1&&n[11]%n[2].length==0?1:n[11]%n[2].length]),l(t,"stroke-width",u/3),l(t,"stroke-dasharray",u*Math.PI/2),l(t,"stroke-dashoffset",e=Math.max(0,.999-n[5]/n[8])*u*Math.PI/2),l(t,"transform",s="rotate("+(n[1]+n[9]*360)+" "+n[7]+" "+n[7]+")"),l(t,"cx",n[7]),l(t,"cy",n[7]),l(t,"r",u/4),l(o,"x",n[7]*1.75),l(o,"y",n[7]),l(o,"font-size",_=8/(8+n[6].length)*Math.min(60,1.5*u*n[5]/n[8])),l(o,"text-anchor","end"),l(o,"dominant-baseline","middle"),l(o,"transform",g="rotate("+(n[1]+n[9]*360+360*n[5]/n[8]/2)+" "+n[7]+" "+n[7]+")"),l(o,"font-family","Arial")},m(r,h){v(r,t,h),v(r,o,h),E(o,f)},p(r,h){h&1&&i!==(i="#"+r[2][r[11]==r[0].length-1&&r[11]%r[2].length==0?1:r[11]%r[2].length])&&l(t,"stroke",i),h&1&&e!==(e=Math.max(0,.999-r[5]/r[8])*u*Math.PI/2)&&l(t,"stroke-dashoffset",e),h&3&&s!==(s="rotate("+(r[1]+r[9]*360)+" "+r[7]+" "+r[7]+")")&&l(t,"transform",s),h&1&&a!==(a=r[6]+"")&&A(f,a),h&1&&_!==(_=8/(8+r[6].length)*Math.min(60,1.5*u*r[5]/r[8]))&&l(o,"font-size",_),h&3&&g!==(g="rotate("+(r[1]+r[9]*360+360*r[5]/r[8]/2)+" "+r[7]+" "+r[7]+")")&&l(o,"transform",g)},d(r){r&&m(t),r&&m(o)}}}function J(n){let t,i=n[0],e=[];for(let s=0;s<i.length;s+=1)e[s]=z($(n,i,s));return{c(){t=d("svg");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=c(s,"svg",{width:!0,height:!0});var o=p(t);for(let a=0;a<e.length;a+=1)e[a].l(o);o.forEach(m),this.h()},h(){l(t,"width",u+"px"),l(t,"height",u+"px")},m(s,o){v(s,t,o);for(let a=0;a<e.length;a+=1)e[a].m(t,null)},p(s,[o]){if(o&7){i=s[0];let a;for(a=0;a<i.length;a+=1){const f=$(s,i,a);e[a]?e[a].p(f,o):(e[a]=z(f),e[a].c(),e[a].m(t,null))}for(;a<e.length;a+=1)e[a].d(1);e.length=i.length}},i:k,o:k,d(s){s&&m(t),y(e,s)}}}const u=600;function K(n,t,i){const e=["f4a261","2a9d8f","e76f51","e9c46a"];e[Math.floor(Math.random()*e.length)];const s=[];for(let f=0;f<3;++f)s.push({size:1,lable:"Hello "+f});s[0].size=.5;let o=0,a=()=>{i(1,o+=2),requestAnimationFrame(a)};return I(a),[s,o,e]}class W extends M{constructor(t){super(),b(this,t,K,J,w,{})}}function j(n){let t,i;return t=new W({}),{c(){S(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,s){C(t,e,s),i=!0},p:k,i(e){i||(F(t.$$.fragment,e),i=!0)},o(e){G(t.$$.fragment,e),i=!1},d(e){H(t,e)}}}class L extends M{constructor(t){super(),b(this,t,null,j,w,{})}}export{L as default};
